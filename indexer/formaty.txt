Index structure

$indexRoot$/
|
+-- words/
|
+-- docs/
|
+-- wordlist.txt
+-- classes.txt
+-- erased.dat


words - word-index

		kazdy se jmenuje jako CRC32-Base64 ID ze slova. Alternativne lze mit viceslov v souboru (viz dale)
		uvnitr souboru je tento format
		<word-count> (4b)  - pocet slov v indexu - bezne 1, muze byt ale vic

			<word-CRC32> (4b)  - znova ID slova 
			<offset>     (4b)  - offset v souboru - bezne 12, ale pokud obsahuje vic slov, je zde jine cislo


		<doc-count> (4b)   - pocet dokumentu pro slovo
		  <doc-ident> (16b)  - md5 dokumentu
		  <hit-count> (2b)   - pocet zasahu - pro kazdy dokument - pokud je 0, pak dokument nema informace o zásazích
			<class-id> (2b)  - tøída zásahu z ciselniku trid
			<page>     (2b)  - cislo stránky nebo HIWORD z èísla øádky (>=0x8000)
			<line>     (2b)  - cislo øádky v dokumentu
			<col>      (2b)  - cislo sloupce v dokumentu (0 = not used)




docs - seznam dokumentu

		- kazdy se jmenuje jako MD5-Base64 ID dokumentu
		- uvnitø souboru je seznam souborù, každý na jednom øádku.
		- format: <modtime> <pathname>

wordlist.txt 
        - obsahuje seznam slov oddìlených novým øádkem
		- slouží pro hledání podobných slov
		- pokud je hledaný token nalezen uvnitø nìkterého slova, mùže být slovo použito k hledání
		- pro výpoèet word-id se použije CRC32

		(wordlist se nacita do pameti behem indexace, po dokonceni indexace se soubor prepise)


classes.txt
		- seznam trid, kazda trida na novem radku
		- prvni trida ma index 1 (0 je vyhrazena pro zaznam bez tridy)
		- tridy generuje tokenizer, nove tridy zapisuje na konec souboru
		- uvnitr indexu se trida referencuje dvoubajtovym class-id
		- max pocet trid je 65535

ereased.dat
		- obsahuje prostý seznam doc-id, ktere byly s indexu smazány. 
		- Pøi hledání se musí tyto dokumenty vyøadit
		- èas od èasu se word-index projde a dokumenty se fyzicky odstraní
		  


Pøi reindexaci bere indexer soubory v "docs" a reindexuje nalezené soubory. Pokud soubor 
        má výsledný hash jiný, než pùvodní, pak je z pùvodního indexu docs smazán a je
		pøidán do nového indexu (pokud neexistuje, je založen).
		Pokud pùvodní index zùstane prázdný, pak se jeho ID zaøadí na smazání,